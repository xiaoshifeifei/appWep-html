let lastTouchEnd = 0;
document.documentElement.addEventListener("touchstart", function (event) {
  if (event.touches.length > 1) {
    event.preventDefault();
  }
});
document.documentElement.addEventListener(
  "touchend",
  function (event) {
    let now = new Date().getTime();
    if (now - lastTouchEnd <= 300) {
      event.preventDefault();
    } else {
      lastTouchEnd = now;
    }
  },
  false
);
let paramsAllTime = 0;
document.documentElement.addEventListener(
  "click",
  function (event) {
    let now = new Date().getTime();
    if (paramsAllTime == 0) {
      return;
    }
    if (now - paramsAllTime <= 300) {
      event.preventDefault();
    } else {
      paramsAllTime = now;
    }
  },
  false
);
document.documentElement.addEventListener("gesturestart", function (event) {
  event.preventDefault();
});
window.onload = function () {
  setTimeout(() => {
    const anchorBtn = document.getElementById("anchorBtn");
    if (anchorBtn) {
      window.addEventListener("scroll", function () {
        if (window.scrollY > 200) {
          anchorBtn.style.display = "block";
        } else {
          anchorBtn.style.display = "none";
        }
      });
    }
  }, 100);
};
document.addEventListener(
  "error",
  function (e) {
    var elem = e.target;
    if (elem.tagName.toLowerCase() == "img") {
      elem.src = "../img/indexImg/error.png";
    }
  },
  true
);
document.addEventListener(
  "WeixinJSBridgeReady",
  function () {
    const video = document.getElementById("startVideo");
    const video1 = document.getElementById("startVideo1");
    const video2 = document.getElementById("startVideo2");
    const video3 = document.getElementById("startVideo3");
    video && video.play();
    video1 && video1.play();
    video2 && video2.play();
    video3 && video3.play();
  },
  false
);
